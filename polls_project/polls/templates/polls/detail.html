{% extends "polls/base.html" %}

{% block title %}{{ question.question_text }}{% endblock %}

{% block content %}
<section class="detail-section">
    <a href="{% url 'polls:index' %}" class="back-link">&larr; Back to polls</a>

    <div class="detail-card">
        <h1 class="detail-title">{{ question.question_text }}</h1>

        {% if error_message %}
        <div class="error-banner">
            <span class="error-icon">⚠️</span> {{ error_message }}
        </div>
        {% endif %}

        <form action="{% url 'polls:vote' question.id %}" method="post" class="vote-form">
            {% csrf_token %}
            <fieldset class="choice-fieldset">
                <legend class="sr-only">Choose an option</legend>
                {% for choice in question.choice_set.all %}
                <label class="choice-option" for="choice{{ forloop.counter }}">
                    <input type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}">
                    <span class="choice-radio"></span>
                    <span class="choice-label">{{ choice.choice_text }}</span>
                </label>
                {% endfor %}
            </fieldset>
            <button type="submit" class="btn-vote">Vote</button>
        </form>
    </div>
</section>
{% endblock %}